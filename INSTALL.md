# Руководство по установке и запуску

## Системные требования

### Минимальные требования
- **ОС:** Windows 7+, Linux (любой дистрибутив), macOS 10.12+
- **Процессор:** 1 ГГц или выше
- **ОЗУ:** 2 ГБ
- **Дисковое пространство:** 100 МБ
- **Python:** 3.8 или выше
- **Браузер:** Chrome, Firefox, Safari, Edge (любой современный)

### Рекомендуемые требования
- **ОС:** Windows 10/11, Ubuntu 20.04+, macOS 11+
- **Процессор:** 2 ГГц или выше (многоядерный)
- **ОЗУ:** 4 ГБ или более
- **Дисковое пространство:** 500 МБ
- **Python:** 3.10 или выше

## Установка

### Шаг 1: Установка Python

#### Windows
1. Скачайте Python с официального сайта: https://www.python.org/downloads/
2. Запустите установщик
3. **ВАЖНО:** Отметьте галочку "Add Python to PATH"
4. Нажмите "Install Now"
5. Проверьте установку:
   ```cmd
   python --version
   ```

#### Linux (Ubuntu/Debian)
```bash
sudo apt update
sudo apt install python3 python3-pip python3-venv
python3 --version
```

#### macOS
```bash
# Используя Homebrew
brew install python@3.10
python3 --version
```

### Шаг 2: Загрузка проекта

Распакуйте архив проекта в удобную директорию, например:
- Windows: `C:\Projects\AWRcompare`
- Linux/macOS: `~/Projects/AWRcompare`

### Шаг 3: Создание виртуального окружения (рекомендуется)

#### Windows
```cmd
cd C:\Projects\AWRcompare
python -m venv .venv
.venv\Scripts\activate
```

#### Linux/macOS
```bash
cd ~/Projects/AWRcompare
python3 -m venv .venv
source .venv/bin/activate
```

### Шаг 4: Установка зависимостей

```bash
pip install -r requirements.txt
```

Если возникают ошибки, попробуйте обновить pip:
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

## Запуск приложения

### Запуск веб-приложения

#### Windows
```cmd
python app.py
```

#### Linux/macOS
```bash
python3 app.py
```

После запуска вы увидите сообщение:
```
Запуск веб-приложения AWR/pg_profile Comparison
============================================================
Откройте в браузере: http://127.0.0.1:5000
============================================================
```

### Доступ к приложению

1. Откройте веб-браузер
2. Перейдите по адресу: http://127.0.0.1:5000
3. Приложение готово к использованию!

## Использование приложения

### Шаг 1: Главная страница

На главной странице вы увидите:
- Поля для загрузки базового и целевого отчетов
- Информацию о поддерживаемых форматах
- Кнопку "Загрузить и продолжить"

### Шаг 2: Загрузка файлов

1. Нажмите на область загрузки базового отчета
2. Выберите файл (поддерживаются .html и .txt)
3. Аналогично загрузите целевой отчет
4. Нажмите "Загрузить и продолжить"

### Шаг 3: Выбор таблиц

На странице выбора таблиц:
1. Просмотрите информацию о загруженных отчетах
2. Отметьте галочками таблицы для сравления
3. Выберите формат вывода (HTML, TEXT, CSV, JSON)
4. Нажмите "Сравнить отчеты"

### Шаг 4: Просмотр результатов

На странице результатов вы увидите:
- Сводку (количество таблиц, метрик, отклонений)
- Информацию о базовом и целевом отчетах
- Детальные результаты сравнения по каждой таблице
- Кнопку "Скачать отчет" для сохранения результата
- Кнопку "Новое сравнение" для начала нового сравнения

## Решение проблем

### Ошибка: "python не является внутренней или внешней командой"

**Решение (Windows):**
1. Добавьте Python в PATH:
   - Откройте "Система" → "Дополнительные параметры системы"
   - Нажмите "Переменные среды"
   - В "Системные переменные" найдите PATH
   - Добавьте путь к Python (например, `C:\Python310`)

### Ошибка: "No module named 'flask'"

**Решение:**
```bash
pip install flask
```

### Ошибка при загрузке отчета

**Возможные причины:**
1. Неподдерживаемый формат файла
2. Поврежденный файл отчета
3. Неполный отчет

**Решение:**
1. Убедитесь, что файл является корректным AWR или pg_profile отчетом
2. Проверьте, что файл не поврежден
3. Попробуйте другой отчет

### Приложение не запускается

**Решение:**
1. Проверьте версию Python: `python --version` (должна быть 3.8+)
2. Переустановите зависимости: `pip install -r requirements.txt --force-reinstall`
3. Убедитесь, что порт 5000 свободен

### Браузер не открывает страницу

**Решение:**
1. Проверьте, что приложение запущено без ошибок
2. Попробуйте другой браузер
3. Проверьте брандмауэр/антивирус
4. Попробуйте http://localhost:5000 вместо http://127.0.0.1:5000

## Остановка приложения

Для остановки приложения нажмите Ctrl+C в терминале, где оно запущено.

## Обновление

Для обновления приложения:
1. Сохраните ваши конфигурационные файлы из `config/`
2. Распакуйте новую версию
3. Восстановите ваши конфигурационные файлы
4. Обновите зависимости: `pip install -r requirements.txt --upgrade`

## Удаление

### Windows
1. Остановите приложение (Ctrl+C)
2. Удалите директорию проекта

### Linux/macOS
```bash
pkill -f "python.*app.py"
rm -rf ~/Projects/AWRcompare
```

## Дополнительная информация

### Структура директорий после установки

```
AWRcompare/
├── app.py                  # Главный файл приложения (Flask)
├── templates/              # HTML шаблоны веб-интерфейса
│   ├── index.html         # Главная страница
│   ├── select_tables.html # Выбор таблиц
│   └── results.html       # Результаты
├── config/                 # Конфигурационные файлы
├── src/                   # Исходный код
├── tests/                 # Тесты
├── docs/                  # Документация
├── .venv/                 # Виртуальное окружение
├── requirements.txt       # Зависимости
└── README.md              # Описание
```

### Сетевой доступ

По умолчанию приложение доступно только локально (127.0.0.1). Для доступа по сети:

```bash
# Запуск с указанием хоста
python app.py --host=0.0.0.0
```

### Конфигурация

Конфигурационные файлы находятся в `config/`:
- `cross_platform_mapping.yaml` - маппинг метрик
- `default_comparison.yaml` - настройки сравнения

Вы можете редактировать эти файлы для настройки поведения приложения.

## Контакты и поддержка

Для вопросов и предложений обращайтесь к разработчику.

Учебный проект - курсовая работа по дисциплине "Проектирование информационных систем"
