# Итоговая сводка по проекту

## Информация о проекте

**Название:** Система автоматизации сравнения отчетов AWR и pg_profile

**Тип:** Веб-приложение (курсовая работа)

**Технология:** Flask + Python

**Дата создания:** 15 февраля 2026

**Версия:** 2.0.0

## Выполненные задачи

### ✅ 1. Анализ требований и создание структуры проекта

Проведен полный анализ требований из документов:
- [`118032.docx`](118032.docx) - методические рекомендации по выполнению курсовой работы
- [`ПОСТАНОВКА ЗАДАЧИ И АЛГОРИТМ РЕШЕНИЯ.docx`](ПОСТАНОВКА%20ЗАДАЧИ%20И%20АЛГОРИТМ%20РЕШЕНИЯ.docx) - техническое задание

Создана модульная структура проекта с разделением на слои:
- Слой парсинга данных
- Слой бизнес-логики
- Слой представления (Flask веб-приложение)
- Слой конфигурации

### ✅ 2. Создание конфигурационных файлов

Реализованы YAML конфигурационные файлы:

**[`config/cross_platform_mapping.yaml`](config/cross_platform_mapping.yaml)**
- Маппинг метрик между Oracle и PostgreSQL
- Список доступных таблиц для каждого типа отчета
- Описания таблиц на русском языке
- Стратегии сравнения

**[`config/default_comparison.yaml`](config/default_comparison.yaml)**
- Настройки сравнения по умолчанию
- Пороговые значения (warning: 15%, critical: 30%)
- Параметры форматирования вывода
- Игнорируемые столбцы

### ✅ 3. Реализация модулей парсинга

**Модуль [`src/parsers/`](src/parsers/)**

1. **[`base_parser.py`](src/parsers/base_parser.py)** - базовый класс
   - Абстрактный интерфейс для всех парсеров
   - Общие методы нормализации данных
   - Классы данных: `ReportMetadata`, `TableData`

2. **[`awr_parser.py`](src/parsers/awr_parser.py)** - парсер Oracle AWR
   - Поддержка HTML и текстовых форматов
   - Извлечение метаданных (версия, БД, период)

3. **[`pg_profile_parser.py`](src/parsers/pg_profile_parser.py)** - парсер PostgreSQL pg_profile
   - Поддержка HTML и текстовых форматов

### ✅ 4. Реализация движка сравнения

**[`src/comparison/comparison_engine.py`](src/comparison/comparison_engine.py)**
- Автоматическое определение типа сравнения
- Сопоставление метрик с учетом маппинга
- Вычисление отклонений с пороговыми значениями

### ✅ 5. Реализация веб-интерфейса (Flask)

**[`app.py`](app.py)** - главное приложение

**HTML шаблоны в [`templates/`](templates/):**

1. **[`index.html`](templates/index.html)** - главная страница
   - Загрузка базового и целевого отчетов
   - Drag-and-drop интерфейс
   - Информация о поддерживаемых форматах

2. **[`select_tables.html`](templates/select_tables.html)** - выбор таблиц
   - Отображение метаданных отчетов
   - Чекбоксы для выбора таблиц
   - Выбор формата экспорта

3. **[`results.html`](templates/results.html)** - страница результатов
   - Сводка результатов
   - Таблицы с детальным сравнением
   - Кнопка скачивания отчета
   - Цветовое выделение критических отклонений

### ✅ 6. Реализация генератора отчетов

**[`src/report_generator/report_generator.py`](src/report_generator/report_generator.py)**

Поддерживаемые форматы:
- **TEXT** - текстовый отчет
- **HTML** - HTML с CSS
- **CSV** - для Excel
- **JSON** - для программной обработки

### ✅ 7. Написание документации

1. **[`README.md`](README.md)** - описание проекта
2. **[`INSTALL.md`](INSTALL.md)** - руководство по установке
3. **[`docs/Курсовая_работа.md`](docs/Курсовая_работа.md)** - курсовая работа

## Структура проекта

```
AWRcompare/
├── app.py                              # Flask приложение
├── templates/                          # HTML шаблоны
│   ├── index.html                    # Главная страница
│   ├── select_tables.html            # Выбор таблиц
│   └── results.html                 # Результаты
│
├── config/                            # Конфигурация
│   ├── cross_platform_mapping.yaml
│   └── default_comparison.yaml
│
├── src/                              # Исходный код
│   ├── parsers/                     # Парсеры
│   ├── comparison/                  # Сравнение
│   ├── report_generator/            # Генератор
│   └── utils/                       # Утилиты
│
├── tests/                            # Тесты
├── docs/                             # Документация
├── requirements.txt                  # Зависимости
└── README.md                        # Описание
```

## Запуск приложения

```bash
# Установка зависимостей
pip install -r requirements.txt

# Запуск
python app.py

# Открыть в браузере
http://127.0.0.1:5000
```

## Достижения

✅ Веб-интерфейс вместо desktop GUI  
✅ Отображение результатов на веб-странице  
✅ Скачивание отчетов в любом формате  
✅ Модульная архитектура  
✅ Конфигурация через YAML файлы  

## Соответствие требованиям

- ✅ Модульная структура кода
- ✅ Настройки в YAML файлах
- ✅ Документация в Markdown
- ✅ Веб-интерфейс с возможностью скачивания

---

**Дата:** 15 февраля 2026  
**Версия:** 2.0.0  
**Статус:** ✅ Готово
